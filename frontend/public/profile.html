<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apock web design</title>
    <link rel="stylesheet" type="text/css" href="https://necolas.github.io/normalize.css/8.0.1/normalize.css">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />

    <style>
        /* Estilos omitidos para brevedad, mantenlos igual que antes */
    </style>
</head>

<body>

    <section class="seccion-perfil-usuario">
        <div class="perfil-usuario-header">
            <div class="perfil-usuario-portada" id="portada">
                <div class="perfil-usuario-avatar">
                    <img id="avatar-image" src="http://localhost/multimedia/relleno/img-c9.png" alt="img-avatar">
                    <input type="file" id="file-avatar" style="display: none;" accept="image/*">
                    <button type="button" class="boton-avatar" onclick="document.getElementById('file-avatar').click();">
                        <i class="far fa-image"></i>
                    </button>
                </div>
                <button type="button" class="boton-portada" onclick="document.getElementById('color-selector').classList.toggle('visible');">
                    <i class="far fa-image"></i> Cambiar fondo
                </button>
                <div id="color-selector" style="display: none; position: absolute; top: 3rem; right: 1rem; background-color: white; padding: 1rem; border-radius: 8px; box-shadow: 0 0 12px rgba(0,0,0,0.2);">
                    <label for="color-options">Selecciona un color:</label>
                    <select id="color-options" onchange="changeBackgroundColor();">
                        <option value="linear-gradient(45deg, #BC3CFF, #317FFF)">Azul y Morado</option>
                        <option value="linear-gradient(45deg, #FF5722, #FFC107)">Naranja y Amarillo</option>
                        <option value="linear-gradient(45deg, #4CAF50, #8BC34A)">Verde y Lima</option>
                        <option value="linear-gradient(45deg, #E91E63, #F44336)">Rosa y Rojo</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="perfil-usuario-body">
            <div class="perfil-usuario-bio">
                <h3 class="titulo">Maria Alejandra De la Cruz</h3>
                <p class="texto">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua.</p>
            </div>
        </div>
    </section>

    <script>
        // Función para cambiar la imagen del avatar
        document.getElementById('file-avatar').addEventListener('change', function(event) {
            var reader = new FileReader();
            reader.onload = function(e) {
                var avatarImage = e.target.result;
                document.getElementById('avatar-image').src = avatarImage;
                // Guardar la imagen en localStorage
                localStorage.setItem('avatarImage', avatarImage);
            }
            reader.readAsDataURL(event.target.files[0]);
        });

        // Función para cambiar el fondo de la portada
        function changeBackgroundColor() {
            var color = document.getElementById('color-options').value;
            document.getElementById('portada').style.backgroundImage = color;
            // Guardar el color en localStorage
            localStorage.setItem('backgroundColor', color);
        }

        // Función para cargar los datos almacenados al iniciar la página
        function loadProfileData() {
            // Cargar imagen de avatar desde localStorage
            var storedAvatarImage = localStorage.getItem('avatarImage');
            if (storedAvatarImage) {
                document.getElementById('avatar-image').src = storedAvatarImage;
            }

            // Cargar color de fondo desde localStorage
            var storedBackgroundColor = localStorage.getItem('backgroundColor');
            if (storedBackgroundColor) {
                document.getElementById('portada').style.backgroundImage = storedBackgroundColor;
                document.getElementById('color-options').value = storedBackgroundColor; // Actualiza el selector
            }
        }

        // Llamar a la función cuando se carga la página
        window.onload = loadProfileData;
    </script>

</body>

</html>
